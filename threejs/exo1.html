<html>
<head>
<meta charset="UTF-8">
<title>Three.js : exo 1</title>
</head>
<body>
    <canvas id="glCanvas" width="800" height="600"></canvas>
    
    <select id="materialSelect" onchange="changeMaterial(this.value)">
        <option value="basic" default>Basic</option>
        <option value="lambert">Lambert</option>
        <option value="phong">Phong</option>
        <option value="toon">Toon</option>
    </select>

	<script src="https://threejs.org/build/three.min.js"></script>
	<script>
	    const canvas = document.getElementById('glCanvas');
		var renderer = new THREE.WebGLRenderer({canvas: canvas, alpha: true, antialias: true});

		var scene = new THREE.Scene();
		var camera = new THREE.PerspectiveCamera(45, canvas.width/canvas.height, 0.1, 1000);
		camera.position.z = 5;

		var geometry = new THREE.BoxGeometry(2, 2, 2);
		var material = new THREE.MeshBasicMaterial( { color: 0xcc0000 } );
		var cube = new THREE.Mesh( geometry, material );
		scene.add(cube);

        var directionalLight = new THREE.DirectionalLight( 0xffffff, 1 );
        directionalLight.position.set(0, 2, 5);
        scene.add( directionalLight );
		

        function changeMaterial(v) {
            switch(v) {
                case "lambert":
                    cube.material = new THREE.MeshLambertMaterial({ color: 0xcc0000 });
                    break;
                case "phong":
                    cube.material = new THREE.MeshPhongMaterial({ color: 0xcc0000, specular: 0x111111, shininess: 60});
                    break;
                case "toon":
                    cube.material = new THREE.MeshToonMaterial({ color: 0xcc0000 });
                    break;
                default:
                    cube.material = new THREE.MeshBasicMaterial({ color: 0xcc0000 });
                    break;
            }
        }
        
        changeMaterial(document.getElementById("materialSelect").value);
        
        function draw() {
            requestAnimationFrame(draw);

		    cube.rotation.x += 0.01;
		    cube.rotation.y += 0.01;

			renderer.render(scene, camera);
		}

        window.addEventListener("load", draw);
	</script>
	
	

</body>
</html>
